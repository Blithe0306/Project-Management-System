<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="otp_rad_profile">
	<typeAlias alias="radProfile"
		type="com.ft.otp.manager.confinfo.radius.entity.RadProfileInfo" />
		
	<parameterMap class="radProfile" id="parameterMap_rpf">
		<parameter property="profileId" javaType="int" jdbcType="INTEGER" />
		<parameter property="profileName" javaType="string"
			jdbcType="VARCHAR" />
		<parameter property="profileDesc" javaType="string"
			jdbcType="VARCHAR" />
	</parameterMap>
	
	<resultMap id="resultMap_rpf" class="radProfile">
		<result property="profileId" column="id" nullValue="-1" />
		<result property="profileName" column="profilename" nullValue="" />
		<result property="profileDesc" column="descp" nullValue="" />
	</resultMap>
	
	<sql id="queryFilter">
		<dynamic prepend="">
			<isNotEmpty property="profileId" prepend="and">
				<isNotEqual property="profileId" compareValue="-1">
					id = #profileId# 
				</isNotEqual>
			</isNotEmpty>
		</dynamic>
		<dynamic prepend="">
			<isNotNull property="profileName" prepend="and">
				<isNotEmpty property="profileName">
					profilename = #profileName#
				</isNotEmpty>
			</isNotNull>
		</dynamic>
	</sql>
	
	<select id="countRadProFile" resultClass="int" parameterClass="radProfile">
		<![CDATA[
	    	select count(id) from otppms_rad_profile WHERE 1=1
	    ]]>
	    <include refid="queryFilter" />
	</select>
	
 
	
	<update id="updateRadProFile" parameterClass="radProfile">
	     update otppms_rad_profile set profilename=#profileName#,descp=#profileDesc#  where id=#profileId#
	</update>
	
	<insert id="insertRadProFile" parameterClass="radProfile">
		<![CDATA[
    		INSERT INTO otppms_rad_profile (profilename,descp) VALUES (#profileName#,#profileDesc#)
    	]]>
	</insert>
	
	<select id="findRadProFile" resultMap="resultMap_rpf"
		parameterClass="radProfile">
		<![CDATA[
		    SELECT
    			id, profilename, descp
			from otppms_rad_profile WHERE 1=1 
         ]]>
		<include refid="queryFilter" />
	</select>
	
	<delete id="delRadProFile" parameterClass="radProfile">
		<![CDATA[
			DELETE FROM otppms_rad_profile WHERE 1=1 AND id = #profileId#
		]]>
	</delete>

</sqlMap>
