<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="admin_log">
	<select id="selectAL" resultClass="adminlogInfo"
		parameterMap="parameterMap_al">
		<![CDATA[
    	select   
    		id,
    		operator,
    		logtime,
    		actionid,
    		actionresult,
    		actionobject,
    		clientip,
    		descp,
    		hashcode
    		from 
    	]]>
    	<dynamic prepend="">
         	<isNotNull property="pageSize" prepend="">
				<isNotEmpty property="pageSize">
					(select top $pageSize$ * from otppms_admin_log where 1=1
				</isNotEmpty>
			</isNotNull>
			<include refid="queryAdminLogCondition" />
			<isNotNull property="startRow" prepend="">
				<isNotEmpty property="startRow">
					and id not in (select top $startRow$ id  from otppms_admin_log where 1=1
				</isNotEmpty>
			</isNotNull>
			<include refid="queryAdminLogCondition" />
         </dynamic>
        <![CDATA[
        	order by id desc) order by id desc) otppms_admininfo order by id desc 
        ]]>
	</select>
</sqlMap>
