<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>配置管理帮助文档</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" type="text/css" href="css/help.css" />
    <script language="javascript" src="js/jquery-1.4.2.min.js"></script>
    <script language="javascript" src="js/help.js"></script>
	<script language="javascript">
		$(document).ready(function(){
			//滚动定位
			scrollPosition();
			//文本返回顶部操作
			//backToTopOper();
			//图片返回顶部操作
			goTopEx();
			
		});
	</script>
  </head>
  <body>
  	<div class="scrollnav" id="scrollnav">
	    <a href="#" date-scroll="#373">认证服务器</a>
	    <a href="#" date-scroll="#373">认证代理配置</a>
	    <a href="#" date-scroll="#374">后端认证</a>
	    <a href="#" date-scroll="#381">核心业务操作配置</a>
	    <a href="#" date-scroll="#382">IP访问控制</a>
	    <a href="#" date-scroll="#385">数据库配置</a>
	    <a href="#" date-scroll="#387">Radius属性配置</a>
	</div>
	
	<div style="display:none" id="goTopBtn"><img border=0 src="images/top.gif" /></div>

	
	<h2>3.7 认证管理</h2>
	<h3 id="371">3.7.1 认证服务器</h3>
	<p>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;提供认证服务器的添加、修改、删除、查询功能。
	认证服务器表字段中扩展了对标准Radius、SOAP、HTTP、HTTPS等协议的支持属性字段。
	添加的认证服务器数量不能大于授权中定义的个数。
	3.7.2 认证代理
	提供认证代理的添加、修改、删除、查询功能。添加认证代理时选择代理对应的认证服务器。一个认证代理可以对应一个或多个认证服务器，一个代理对应多个认证服务器时，根据认证服务器的优先级发送客户端请求。
	</p>
	
	<h2 id="373">认证代理配置</h2>
	<p>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Windows登录保护和Linux登录保护代理参数的配置，添加Windows登录保护和Linux登录保护认证代理时需要选择一项配置，其它类型的登录保护代理不需要(如WEB登录保护代理)。
	</p>
	<p>
	<h2 id="374">后端认证</h2>
	<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;后端认证请求功能包含对其它厂家的OTP认证服务器后端支持和对其它系统的支持，如AD等。
	3.7.4.1 后端认证配置
	后端认证模块分为RADIUS后端认证和AD后端认证两种。
	3.7.4.1.1 RADIUS后端认证配置
	RADIUS后端认证配置属性包括：后端认证ID、域名、认证服务器IP、认证服务器端口、共享密钥、超时时间和重试次数。
	3.7.4.1.2 AD后端认证配置
	AD后端认证配置属性包括：后端认证ID、域名、优先级、AD服务器IP、端口、超时数、查找DN、用户名、密码。
	3.7.4.2 策略配置
	策略模块是用来辅助后端认证功能的实现，定义了转发给后端认证服务器的用户信息、转发信息和密码信息的形式和内容。策略为选择或配置的模式，在添加后端认证时提供选择或配置。
	3.8 配置管理
	配置的详细设计文档请参见《OTP Server4.0通用配置整理文档》。
	配置管理主要为完成OTP认证服务器、OTP管理中心、OTP用户门户的可视化参数设置，系统运行属性的调整。
	</p>
	<h2 id="381">核心业务操作配置</h2>
	<p>
	提供用户、令牌认证窗口，认证错误重试次数，解锁周期，最多绑定用户、令牌数等相关的核心配置。
	3.8.2 认证服务器配置
	针对认证服务器系统属性的配置。比如初始线程数、最大线程数、连接超时秒数等。
	3.8.3 管理中心配置
	3.8.3.1 基本配置
	针对管理中心系统属性的配置。比如系统日志级别、系统会话有效期等。
	</p>
	<h2 id="382">IP访问控制</h2>
	<p>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;创建管理中心IP访问策略数据表，通过页面添加允许访问管理中心的客户端IP地址、IP地址号段。
	管理中心定义一组系统安全检查相关的拦截器链，其中IP检查策略拦截器主要负责检查来访的客户端IP是否在IP访问策略信任列表，非号段内的IP禁止访问。
	IP访问控制策略可以启用或停用，停用状态不进行拦截检查。系统初始化状态IP访问控制策略为停用状态。如果管理员配置启用时，至少应当将管理员当前登录的IP地址加入IP信任列表才可以启用。
	下列方案作为一种备用方案，暂不实现：
	系统初始化状态IP信任列表中是没有IP数据的，这时候任何IP都可以访问，当超级管理员登录时，系统会自动将超级管理员的IP地址存入IP信任列表，这时，再有其它的IP来访问将会被拦截，如果其它IP需要访问，则先申请超级管理员或有配置权限的管理员配置允许访问的IP。
	</p>
	<h2 id="385">数据库配置</h2>
	<p>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mysql、Oracle、PostgreSQL、SqlServer的数据库连接信息的配置及数据库切换。
	通过管理中心配置OTP认证服务器、OTP用户门户的数据库连接信息。
	3.8.5 数据库备份
	管理中心提供数据的备份或导出机制，管理员指定需要备份的数据、数据备份的地址(支持备份到远程服务器)，通过手动或定时自动备份的方式完成数据的备份。
	数据库备份所需要的设置项：
	1：选择：备份OTP Server系统使用的数据库表数据；
	2：备份方式：0、关键表数据备份；1、完整表数据备份
	3：数据备份文件存储的位置：0、数据库所在服务器目录；1、远程服务器目录
	选择0、数据库所在服务器目录，提供服务器目录的选择，支持windows/linux文件系统；
	选择1、远程服务器目录，需要配置远程服务器的IP，选择远程备份的文件目录，支持windows/linux文件系统。
	4：选择定时备份选项，提供定时时间设置的配置，系统定时将表数据备份至指定的位置。
	</p>
	<p id="386">
	3.8.6 用户来源配置
	远程数据库，LDAP等数据容器用户信息的手动、定时更新。
	可以选择更新至某个域或组织机构下。
	</p>
	<h2 id="387">Radius属性配置</h2>
	<p>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OTP认证服务器标准Radius认证在认证成功之后除了可以返回基本的Radius属性，还可以返回一些指定的其它属性，比如认证用户的IP、CLASS等属性。
	3.8.7.1 标准Radius属性
	Radius认证协议（RFC2865）定义了很多属性，RFC2869进一步描述了如何自定义扩展Radius协议。
	3.8.7.2 自定义Radius属性
	提供添加、修改、删除自定义的Radius属性配置的功能。
	Radius自定义属性的组成：
	1、属性ID：唯一ID，integer类型，不能重复；
	2、属性名称：不能重复，长度不能大于128个字节；
	3、属性值：长度不能大于128个字节；
	4、属性值的数据类型，默认：string、integer、ipaddr、date
	3.8.7.3 Radius属性配置项（属性分组列表）
	添加一个Radius属性配置项，为该配置项添加需要的标准Radius属性、自定义Radius属性，表示该Radius配置项所包含的一组Radius属性。这一组Radius属性将在客户端Radius认证完成后返回给客户端。
	可以编辑、删除Radius配置项。
	3.8.7.4 Radius属性配置项的应用
	添加用户时以下拉列表的方式选择一个Radius属性配置项，用户与Radius属性配置项多对一的绑定。每添加一个用户都可以分配Radius属性配置。
	提供批量Radius属性配置的设置。
	</p>
	
	
  </body>
</html>
