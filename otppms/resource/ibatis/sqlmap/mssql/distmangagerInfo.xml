<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="dist_managerInfo">
	   <select id="selectTD" resultClass="distmanagerInfo"
		parameterMap="parameterMap_td">
		<![CDATA[
		    SELECT
	    		token,
	    		pubkeyfactor,
	    		phoneudid,
	    		activepass,
	    		apdeath,
	    		apretry,
	    		actived,
	    		activetime,
	    		provtype,
	    		exttype
            from 
          ]]>
          <dynamic prepend="">
         	<isNotNull property="pageSize" prepend="">
				<isNotEmpty property="pageSize">
					(select top $pageSize$ * from otppms_tokenext where 1=1 
				</isNotEmpty>
			</isNotNull>
			<include refid="queryDistManagerCondition" />
			<isNotNull property="startRow" prepend="">
				<isNotEmpty property="startRow">
					and token not in (select top $startRow$ token  from otppms_tokenext where 1=1
				</isNotEmpty>
			</isNotNull>
         </dynamic>
         <include refid="queryDistManagerCondition" />
		<![CDATA[       
		   order by token asc) order by token asc) otppms_tokenext order by token  asc   		
        ]]>
	 </select>
 
</sqlMap>
